
function overlay()
{var toggles=[],overlay,overlays=[],attribute,customX,customY,closeButton,temporary,temporary_duration,activeOvelays;overlays=document.querySelectorAll('.overlay');for(var i=0;i<overlays.length;++i)
{overlay=overlays[i];toggles=[];toggles=document.querySelectorAll(overlay.getAttribute('data-overlay-toggle'));if(overlay!==null&&toggles.length>0)
{for(var n=0;n<toggles.length;n++)
{toggles[n].onclick=open;toggles[n].index=i;}
overlay.classList.add('overlay');overlay.onclick=close;closeButton=overlay.querySelectorAll(overlay.getAttribute('data-overlay-close'));for(var g=0;g<closeButton.length;g++)
{(function(closeButton,overlay)
{(closeButton!=null)&&(closeButton.onclick=function(e){overlay.click();e.stopPropagation()});})(closeButton[g],overlay);}
overlays[i]=overlay;}}
function open(e)
{activeOverlays=document.querySelectorAll('.overlay_active');for(var i=0;i<activeOverlays.length;i++)activeOverlays[i].click();document.body.classList.add('overlay__noscroll');temporary=overlays[this.index].getAttribute('data-overlay-temporary');temporary_duration=overlays[this.index].getAttribute('data-overlay-temporary-duration');overlays[this.index].classList.add(temporary);setTimeout(()=>{overlays[this.index].classList.remove(temporary)},temporary_duration);if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
stopBodyScrolling(overlays[this.index]);if(documentHeight()>windowHeight())
{document.body.style.paddingRight=getScrollBarWidth()+'px';}
customX=overlays[this.index].getAttribute('data-overlay-custom-x');(customX!=null)&&(overlays[this.index].style.left=customX+'px');customY=overlays[this.index].getAttribute('data-overlay-custom-y');(customY!=null)&&(overlays[this.index].style.top=customY+'px');overlays[this.index].classList.add('overlay_active');}
function close(e)
{if(e.target===this)
{document.body.classList.remove('overlay__noscroll');document.querySelector('html').classList.remove('overlay__noscroll');document.body.style.paddingRight=0;this.classList.remove('overlay_active');}}
function stopBodyScrolling(scrollable_element)
{var touchstart_client_y=null,touchmove_client_y=null,movement_direction=null;scrollable_element.addEventListener('touchstart',touchstart,false);scrollable_element.addEventListener('touchmove',touchmove,false);scrollable_element.addEventListener('gesturestart',gesturestart,false);function touchstart(e)
{(e.targetTouches.length===1)&&(touchstart_client_y=e.targetTouches[0].clientY);}
function touchmove(e)
{if(e.targetTouches.length===1)
{touchmove_client_y=e.targetTouches[0].clientY;movement_direction=touchmove_client_y-touchstart_client_y<0?'down':'up';if(scrollable_element.scrollTop===0&&movement_direction==='up')
{e.preventDefault();}
var is_scrolled=scrollable_element.scrollHeight-scrollable_element.scrollTop===scrollable_element.clientHeight;if(is_scrolled&&movement_direction==='down')
{e.preventDefault();}}}
function gesturestart(e)
{return e.preventDefault();}}
function getScrollBarWidth()
{var inner=document.createElement('p');inner.style.width="100%";inner.style.height="200px";var outer=document.createElement('div');outer.style.position="absolute";outer.style.top="0px";outer.style.left="0px";outer.style.visibility="hidden";outer.style.width="200px";outer.style.height="150px";outer.style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow='scroll';var w2=inner.offsetWidth;if(w1==w2)w2=outer.clientWidth;document.body.removeChild(outer);return(w1-w2);}
function windowHeight()
{return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;}
function documentHeight()
{return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);}}